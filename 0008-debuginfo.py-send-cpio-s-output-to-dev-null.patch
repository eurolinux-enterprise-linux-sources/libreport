From afb03aef3602eae7b7fe018e9c3c9036e55a077c Mon Sep 17 00:00:00 2001
From: Michal Toman <mtoman@redhat.com>
Date: Fri, 16 Mar 2012 10:54:19 +0100
Subject: [PATCH 08/53] debuginfo.py: send cpio's output to /dev/null

---
 src/client-python/debuginfo.py | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

diff --git a/src/client-python/debuginfo.py b/src/client-python/debuginfo.py
index 44e3d8b..34f9d3f 100644
--- a/src/client-python/debuginfo.py
+++ b/src/client-python/debuginfo.py
@@ -64,9 +64,10 @@ def unpack_rpm(package_file_name, files, tmp_dir, destdir, keeprpm, exact_files=
             file_patterns += "." + filename + " "
         cpio_args = ["cpio", "-idu", file_patterns.strip()]
 
-    cpio = Popen(cpio_args,
-              stdin=unpacked_cpio, cwd=destdir, bufsize=-1)
-    retcode = cpio.wait()
+    with open("/dev/null", "w") as null:
+        cpio = Popen(cpio_args, cwd=destdir, bufsize=-1,
+                     stdin=unpacked_cpio, stdout=null, stderr=null)
+        retcode = cpio.wait()
 
     if retcode == 0:
         log1("files extracted OK")
-- 
1.7.11.2

