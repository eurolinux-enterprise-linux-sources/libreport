From d1a0bdf4e9c5ebb944cca1ea2fde97d782e92779 Mon Sep 17 00:00:00 2001
From: Jiri Moskovcak <jmoskovc@redhat.com>
Date: Wed, 4 Apr 2012 13:13:10 +0200
Subject: [PATCH 13/53] debuginfo: don't give up downloading when some repo
 can't be disabled

---
 src/client-python/debuginfo.py | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

diff --git a/src/client-python/debuginfo.py b/src/client-python/debuginfo.py
index 144f451..08729a0 100644
--- a/src/client-python/debuginfo.py
+++ b/src/client-python/debuginfo.py
@@ -179,8 +179,11 @@ class DebugInfoDownload(YumBase):
 
         # disable all not needed
         for repo in self.repos.listEnabled():
-            repo.close()
-            self.repos.disableRepo(repo.id)
+            try:
+                repo.close()
+                self.repos.disableRepo(repo.id)
+            except Exception, ex:
+                print _("Can't disable repository '{0!s}': {1!s}").format(repo.id, str(ex))
 
         # This takes some time, let user know what we are doing
         print _("Setting up yum repositories")
-- 
1.7.11.2

