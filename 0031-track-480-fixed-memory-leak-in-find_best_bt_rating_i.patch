From bfee3b11c5d93d375d9cea46693cba1ec226522f Mon Sep 17 00:00:00 2001
From: Jakub Filak <jfilak@redhat.com>
Date: Mon, 28 May 2012 13:44:36 +0200
Subject: [PATCH 31/53] track#480 : fixed memory leak in
 find_best_bt_rating_in_comments() function

Signed-off-by: Jakub Filak <jfilak@redhat.com>
---
 src/plugins/rhbz.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/plugins/rhbz.c b/src/plugins/rhbz.c
index 7303f6b..8b69494 100644
--- a/src/plugins/rhbz.c
+++ b/src/plugins/rhbz.c
@@ -157,9 +157,11 @@ static unsigned find_best_bt_rating_in_comments(GList *comments)
         {
             /* error / no digits / illegal trailing chars */
             errno = old_errno;
+            free(rating_srt);
             continue;
         }
         errno = old_errno; /* Ok.  So restore errno. */
+        free(rating_srt);
 
         if (rating > best_bt_rating)
             best_bt_rating = rating;
-- 
1.7.11.2

