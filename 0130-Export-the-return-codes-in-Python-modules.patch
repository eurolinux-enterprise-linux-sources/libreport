From 21ce14030ad62229aee8b5607246fad4f965b7b3 Mon Sep 17 00:00:00 2001
From: Jakub Filak <jfilak@redhat.com>
Date: Wed, 14 May 2014 13:45:33 +0200
Subject: [LIBREPORT PATCH] Export the return codes in Python modules

Signed-off-by: Jakub Filak <jfilak@redhat.com>
---
 src/client-python/__init__.py    | 4 ++++
 src/report-python/reportmodule.c | 3 +++
 2 files changed, 7 insertions(+)

diff --git a/src/client-python/__init__.py b/src/client-python/__init__.py
index 36fd320..95daa96 100644
--- a/src/client-python/__init__.py
+++ b/src/client-python/__init__.py
@@ -24,6 +24,10 @@ tmpdir = None
 RETURN_OK = 0
 # serious problem, should be logged somewhere
 RETURN_FAILURE = 2
+# user canceled processing
+from report import EXIT_CANCEL_BY_USER as RETURN_CANCEL_BY_USER
+# event canceled processing
+from report import EXIT_STOP_EVENT_RUN as RETURN_STOP_EVENT_RUN
 
 
 GETTEXT_PROGNAME = "abrt"
diff --git a/src/report-python/reportmodule.c b/src/report-python/reportmodule.c
index 27c5bec..64c00ae 100644
--- a/src/report-python/reportmodule.c
+++ b/src/report-python/reportmodule.c
@@ -18,6 +18,7 @@
 */
 #include <Python.h>
 
+#include "internal_libreport.h"
 #include "common.h"
 
 PyObject *ReportError;
@@ -97,4 +98,6 @@ init_pyreport(void)
     PyModule_AddObject(m, "LIBREPORT_DEL_DIR"    , Py_BuildValue("i", LIBREPORT_DEL_DIR    ));
     PyModule_AddObject(m, "LIBREPORT_RUN_CLI"    , Py_BuildValue("i", LIBREPORT_RUN_CLI    ));
     PyModule_AddObject(m, "LIBREPORT_RUN_NEWT"   , Py_BuildValue("i", LIBREPORT_RUN_NEWT  ));
+    PyModule_AddObject(m, "EXIT_CANCEL_BY_USER"  , Py_BuildValue("i", EXIT_CANCEL_BY_USER));
+    PyModule_AddObject(m, "EXIT_STOP_EVENT_RUN"  , Py_BuildValue("i", EXIT_STOP_EVENT_RUN));
 }
-- 
1.8.3.1

